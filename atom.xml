<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-02-09T15:03:53.891Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>zfhua</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Java之String&amp;&amp;StringBuffer&amp;&amp;StringBuilder</title>
    <link href="http://yoursite.com/2018/02/01/Java%E4%B9%8BString&amp;SBs/"/>
    <id>http://yoursite.com/2018/02/01/Java之String&amp;SBs/</id>
    <published>2018-01-31T16:00:00.000Z</published>
    <updated>2018-02-09T15:03:53.891Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Java之String-amp-amp-StringBuffer-amp-amp-StringBuilder"><a href="#Java之String-amp-amp-StringBuffer-amp-amp-StringBuilder" class="headerlink" title="Java之String&amp;&amp;StringBuffer&amp;&amp;StringBuilder"></a>Java之String&amp;&amp;StringBuffer&amp;&amp;StringBuilder</h3><h5 id="1-gt-比较String-amp-amp-StringBuffer-amp-amp-StringBuilder"><a href="#1-gt-比较String-amp-amp-StringBuffer-amp-amp-StringBuilder" class="headerlink" title="1&gt; 比较String &amp;&amp; StringBuffer &amp;&amp; StringBuilder"></a>1&gt; <code>比较</code>String &amp;&amp; StringBuffer &amp;&amp; StringBuilder</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.字符串</span></span><br><span class="line">    String  不可变字符串</span><br><span class="line">    StringBuffer    可变字符串</span><br><span class="line">    StringBuilder   可变字符串</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 2.执行速度(由快到慢)</span></span><br><span class="line">    StringBuilder &gt; StringBuffer &gt; String</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.线程安全</span></span><br><span class="line">    Stringbuffer    线程安全(多线程安全)</span><br><span class="line">    StringBuilder   线程不安全(单线程安全)</span><br></pre></td></tr></table></figure><ul><li>使用总结</li></ul><ol><li>操作少量的数据使用：<code>String</code></li><li><code>单线程</code>操作大量数据使用：<code>StringBuilder</code></li><li><code>多线程</code>操作大量数据使用：<code>StringBuffer</code></li></ol><ul><li><p>源码角度</p><p><a href="http://blog.csdn.net/hj7jay/article/details/52770174" target="_blank" rel="noopener">http://blog.csdn.net/hj7jay/article/details/52770174</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Java之String-amp-amp-StringBuffer-amp-amp-StringBuilder&quot;&gt;&lt;a href=&quot;#Java之String-amp-amp-StringBuffer-amp-amp-StringBuilder&quot; class=&quot;hea
      
    
    </summary>
    
      <category term="java" scheme="http://yoursite.com/categories/java/"/>
    
    
      <category term="java String StringBuffer StringBuilder" scheme="http://yoursite.com/tags/java-String-StringBuffer-StringBuilder/"/>
    
  </entry>
  
  <entry>
    <title>shell 之 $ 符号的使用说明</title>
    <link href="http://yoursite.com/2018/02/01/shell%E4%B9%8B$%E7%94%A8%E6%B3%95/"/>
    <id>http://yoursite.com/2018/02/01/shell之$用法/</id>
    <published>2018-01-31T16:00:00.000Z</published>
    <updated>2018-02-09T15:04:00.393Z</updated>
    
    <content type="html"><![CDATA[<h3 id="shell-之-符号的使用说明"><a href="#shell-之-符号的使用说明" class="headerlink" title="shell 之 $ 符号的使用说明"></a>shell 之 $ 符号的使用说明</h3><h5 id="参数"><a href="#参数" class="headerlink" title="参数:"></a>参数:</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$0</span>  <span class="variable">$n</span>  $*  <span class="variable">$@</span>  <span class="variable">$#</span>  $?  $!  $-  $$</span><br></pre></td></tr></table></figure><h6 id="说明"><a href="#说明" class="headerlink" title="说明:"></a>说明:</h6><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. <span class="variable">$0</span> 这个程式的执行名字;(当前脚本的文件名;)</span><br><span class="line">2. <span class="variable">$n</span> 这个程式的第n个参数值，n=1..9;(n 是一个数字);</span><br><span class="line">3. $* 这个程式的所有参数,此选项参数可超过9个;</span><br><span class="line">4. <span class="variable">$@</span> 跟 $* 类似,但是可以当作数组用;</span><br><span class="line">5. <span class="variable">$#</span> 这个程式的参数个数;</span><br><span class="line">6. $? 执行上一个指令的返回值(显示最后命令的退出状态;0表示没有错误,其他任何值表明有错误);</span><br><span class="line">7. $! 执行上一个背景指令的PID(后台运行的最后一个进程的进程ID号);</span><br><span class="line">8. $- 显示shell使用的当前选项，与<span class="built_in">set</span>命令功能相同;</span><br><span class="line">9. $$ 这个程式的PID(脚本运行的当前进程ID号);</span><br></pre></td></tr></table></figure><p><code>example:</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"&gt;&gt; sh demo.sh 1 2 3"</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$0</span> <span class="comment"># 执行结果: demo.sh</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$1</span> <span class="comment"># 执行结果: 1</span></span><br><span class="line"> $ <span class="built_in">echo</span> $* <span class="comment"># 输出形式: "1 2 3" (字符串参数,所有参数组成一串独立的字符;)</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$@</span> <span class="comment"># 输出形式: "1" "2" "3" (数组参数,所有参数组成一个字符串集合;)</span></span><br><span class="line"> $ <span class="built_in">echo</span> <span class="variable">$#</span> <span class="comment"># 执行结果: 3</span></span><br><span class="line"> $ <span class="built_in">echo</span> $? <span class="comment"># 执行结果: 0</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;shell-之-符号的使用说明&quot;&gt;&lt;a href=&quot;#shell-之-符号的使用说明&quot; class=&quot;headerlink&quot; title=&quot;shell 之 $ 符号的使用说明&quot;&gt;&lt;/a&gt;shell 之 $ 符号的使用说明&lt;/h3&gt;&lt;h5 id=&quot;参数&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="linux" scheme="http://yoursite.com/categories/linux/"/>
    
    
      <category term="shell $" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>shell 常用命令整理</title>
    <link href="http://yoursite.com/2018/01/31/shell%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2018/01/31/shell常用命令方法/</id>
    <published>2018-01-30T16:00:00.000Z</published>
    <updated>2018-02-09T15:04:05.484Z</updated>
    
    <content type="html"><![CDATA[<h1 id="shell-常用命令整理"><a href="#shell-常用命令整理" class="headerlink" title="shell 常用命令整理"></a>shell 常用命令整理</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#############################</span></span><br><span class="line"><span class="comment"># 操作实例变量参数</span></span><br><span class="line"><span class="comment">#pa='hello'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pva='http://hello/world!'</span></span><br><span class="line"><span class="comment"># pvb='o'</span></span><br><span class="line"><span class="comment"># pv='11aa22'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 关于下标说明:</span></span><br><span class="line"><span class="comment"># 一般函数是从1位置开始计算</span></span><br><span class="line"><span class="comment"># $&#123;&#125; 运算是从0开始计算</span></span><br><span class="line"><span class="comment"># expr 从1开始计算</span></span><br><span class="line"><span class="comment">################</span></span><br></pre></td></tr></table></figure><h3 id="字符名长度"><a href="#字符名长度" class="headerlink" title="字符名长度"></a>字符名长度</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符名长度</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">1. $[<span class="comment">#STR&#125; #STR变量</span></span><br><span class="line">    len=<span class="variable">$&#123;#1&#125;</span></span><br><span class="line">    len=<span class="variable">$&#123;#pva&#125;</span> <span class="comment">#结果: 19;</span></span><br><span class="line">2. expr length [STRTNG] <span class="comment">#STRING变量</span></span><br><span class="line">    1en=`expr 1ength <span class="variable">$1</span>`</span><br><span class="line">    len=`expr length <span class="string">"<span class="variable">$pva</span>"</span>` <span class="comment">#结果: 19;</span></span><br><span class="line">3. expr [STRING] : [REGEXP] <span class="comment">#和`expr match [REGEXP]`一样</span></span><br><span class="line">    len=`expr <span class="string">"<span class="variable">$pva</span>"</span> : <span class="string">".*"</span>`</span><br><span class="line">    len=`expr match <span class="string">"<span class="variable">$pva</span>"</span> <span class="string">".*"</span>`</span><br></pre></td></tr></table></figure><h3 id="截取字符串"><a href="#截取字符串" class="headerlink" title="截取字符串"></a>截取字符串</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 截取字符串</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">1.语法: <span class="variable">$&#123;pva:[IndexPOS]:[LEN]&#125;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;pva:1:3&#125;</span> <span class="comment">#结果: 'ttp' #第1位,长度为3的字符;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;pva:0-3:3&#125;</span> <span class="comment">#结果: 'ld!' #倒数第3位,长度为3;</span></span><br><span class="line">2.语法: `expr substr [STR] [POS] [LEN]` <span class="comment">#[POS] counted from 1;</span></span><br><span class="line">    <span class="built_in">echo</span> `expr substr <span class="string">"<span class="variable">$pva</span>"</span> 1 2`</span><br><span class="line">3.语法: cut -c apos,bpos,... <span class="comment">#apos,bpos... 截取apos位置,截取bpos位置...等位置字符;</span></span><br><span class="line">  语法: cut -c spos-epos <span class="comment">#spos-epos 截取字符段,从spos位置到epos位置结束;</span></span><br><span class="line">    <span class="comment">#-c [character]截取字符; -b [byte]截取字节;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$pva</span> | cut -c 1,4 <span class="comment">#结果: 'hp';</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$pva</span> | cut -c 5,1,2 <span class="comment">#结果: 'ht:'截取字符顺序不变;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$pva</span> | cut -c 1-4 <span class="comment">#结果: 'http';</span></span><br><span class="line">4.语法: `awk <span class="string">'&#123;print substr(STR, sPOS,ePOS)&#125;'</span>` <span class="comment">#STR变量,sPOS开始位置,ePOS结束位置;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$pva</span> | awk <span class="string">'&#123;print substr($0,1,4)&#125;'</span> <span class="comment">#结果: 'http';</span></span><br><span class="line">5. dd bs=1 count=4 2&gt;/dev/null <span class="comment">#dd命令</span></span><br><span class="line">6.高级操作: awk &amp;&amp; sed</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$pva</span>|cut -d <span class="string">'/'</span> -f2</span><br><span class="line">    <span class="comment">#针对有单个的特殊字符组成的字符串::</span></span><br><span class="line">    <span class="comment"># -d: 分割域定义规则; -f:获取第几个域;</span></span><br><span class="line">    <span class="comment"># -d'/': 按'/'规则分割字符区域;</span></span><br><span class="line">    <span class="comment"># -f2: 获取第2区域的内容;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">##########</span></span><br><span class="line"><span class="comment">## 概要 ##</span></span><br><span class="line">  1. str=<span class="variable">$&#123;1:0:2&#125;</span> <span class="comment">#2位</span></span><br><span class="line">  2. str=`expr substr <span class="string">"<span class="variable">$pva</span>"</span> 1 2` <span class="comment">#1-2位</span></span><br><span class="line">  3. str=`<span class="built_in">echo</span> <span class="variable">$pva</span> | cut -c1-2` <span class="comment">#1-2位</span></span><br><span class="line">  4. str=`<span class="built_in">echo</span> <span class="variable">$pva</span> | awk <span class="string">'&#123;print substr($0,1,4)&#125;'</span>` <span class="comment">#1-4位</span></span><br><span class="line">  5. str=`<span class="built_in">echo</span> <span class="variable">$pva</span> | dd bs=1 count=4 2&gt;/dev/nul1` <span class="comment">#1-4位</span></span><br><span class="line"><span class="comment">#特殊: 不规则截取#|##|%|%%</span></span><br><span class="line">pvx=<span class="string">'/'</span></span><br><span class="line">str=<span class="variable">$&#123;pva#*/&#125;</span> <span class="comment">#'*/'类似正则表达,此从左往右边匹配;</span></span><br><span class="line">str=<span class="variable">$&#123;pva##*$pvx&#125;</span></span><br><span class="line">str=<span class="variable">$&#123;pva%/*&#125;</span> <span class="comment">#'/*'类似正则表达，此处从右往左边匹配；</span></span><br><span class="line">str=<span class="variable">$&#123;pva%%/*&#125;</span></span><br><span class="line"><span class="comment"># 注: 完整字符串匹配,必须要从第一个字符开始,否则匹配不上;</span></span><br><span class="line"><span class="comment">#只能模糊匹配[#*tp:] 或者 [%worl*]</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$&#123;pva#http&#125;</span> <span class="comment">#'#'必须左起开头匹配字符'http',其他字符匹配不上;</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$&#123;pva%world\!&#125;</span> <span class="comment">#'%'必须右起开头字符开始匹配;</span></span><br></pre></td></tr></table></figure><h3 id="拼接多个字符串"><a href="#拼接多个字符串" class="headerlink" title="拼接多个字符串"></a>拼接多个字符串</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拼接多个字符串</span></span><br><span class="line"><span class="comment"># $@：表示参数 组成的字符串数组</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">1. <span class="keyword">for</span> s <span class="keyword">in</span> <span class="variable">$@</span></span><br><span class="line">2. <span class="keyword">while</span> + <span class="built_in">shift</span></span><br></pre></td></tr></table></figure><h4 id="实例脚本"><a href="#实例脚本" class="headerlink" title="实例脚本"></a>实例脚本</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####################</span></span><br><span class="line"><span class="comment">### 实例: 合并子串 ###</span></span><br><span class="line"><span class="comment"># 示例1 func_subadd_1</span></span><br><span class="line"><span class="function"><span class="title">func_subadd_1</span></span>()&#123;</span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$#</span> -gt 0 ]; <span class="keyword">then</span></span><br><span class="line">    str_a=<span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> str <span class="keyword">in</span> <span class="variable">$@</span></span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">      str_a=<span class="variable">$str_a</span><span class="variable">$str</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$str_a</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">'参数错误!'</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#func_subadd_1 $@</span></span><br><span class="line">func_subadd_1 $*</span><br><span class="line"><span class="comment">#####################</span></span><br><span class="line"><span class="comment"># 示例2 func_subadd_2</span></span><br><span class="line"><span class="function"><span class="title">func_subadd_2</span></span>()&#123;</span><br><span class="line">  p_sb=<span class="string">''</span></span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$#</span> -gt 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">while</span> [ <span class="variable">$#</span> -gt 0 ]</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">      p_sb=<span class="variable">$p_sb</span><span class="variable">$1</span></span><br><span class="line">      <span class="built_in">shift</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$p_sb</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">'参数错误!'</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#func_subadd_2 $@</span></span><br><span class="line">func_subadd_2 $*</span><br></pre></td></tr></table></figure><h4 id="小写转大写-amp-amp-大写转小写"><a href="#小写转大写-amp-amp-大写转小写" class="headerlink" title="小写转大写 &amp;&amp; 大写转小写"></a>小写转大写 &amp;&amp; 大写转小写</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###########</span></span><br><span class="line"><span class="comment"># tr 或者 awk</span></span><br><span class="line"><span class="comment"># 小写转大写</span></span><br><span class="line">  1. <span class="built_in">echo</span> <span class="string">'hello worid.'</span> | tr <span class="string">'[a-z]'</span> <span class="string">'[A-Z]'</span></span><br><span class="line">  2. <span class="built_in">echo</span> <span class="string">'hello WORLd!'</span> | awk <span class="string">'&#123;print toupper($0)&#125;'</span></span><br><span class="line"><span class="comment"># 大写转小写</span></span><br><span class="line">  1. <span class="built_in">echo</span> <span class="string">'HELLO WORLD!'</span> | tr <span class="string">'[A-Z]'</span> <span class="string">'[a-z]'</span></span><br><span class="line">  2. <span class="built_in">echo</span> <span class="string">'HELLO World!'</span> | awk <span class="string">'&#123;print tolower($0)&#125;'</span></span><br></pre></td></tr></table></figure><h4 id="反转字符串"><a href="#反转字符串" class="headerlink" title="反转字符串"></a>反转字符串</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. revStr=`<span class="built_in">echo</span> <span class="variable">$1</span> | rev`</span><br></pre></td></tr></table></figure><h4 id="子串在母串中的位置"><a href="#子串在母串中的位置" class="headerlink" title="子串在母串中的位置"></a>子串在母串中的位置</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. idx=`expr index <span class="variable">$pva</span> <span class="string">"wol"</span>` <span class="comment">#匹配字符'l';</span></span><br><span class="line">  idx=`expr index <span class="variable">$pva</span> <span class="string">"w"</span>` <span class="comment">#14</span></span><br><span class="line">  <span class="comment">#[expr index ... ]只能返回所有匹配的字符中的位置最小的那个位置</span></span><br><span class="line">2.</span><br></pre></td></tr></table></figure><h4 id="子串在母串中的个数"><a href="#子串在母串中的个数" class="headerlink" title="子串在母串中的个数"></a>子串在母串中的个数</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. num=`<span class="built_in">echo</span> <span class="variable">$pva</span> | awk -F <span class="string">"o"</span> <span class="string">"&#123;print NF-1&#125;"</span>` <span class="comment">#2</span></span><br><span class="line">2. <span class="comment">#|##|%|%% + 递归计算</span></span><br><span class="line">   <span class="comment">#统计递归次数</span></span><br><span class="line">3..</span><br></pre></td></tr></table></figure><h4 id="替换字符串"><a href="#替换字符串" class="headerlink" title="替换字符串"></a>替换字符串</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#####</span></span><br><span class="line"><span class="comment"># pva|pvb|pv实例变量</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">  1. newStr=`<span class="built_in">echo</span> <span class="variable">$&#123;pva/$pvb/$pv&#125;</span>` <span class="comment">#替换第一个匹配串</span></span><br><span class="line">  2. newStr=`<span class="built_in">echo</span> <span class="variable">$&#123;pva//$pvb/$pv&#125;</span>` <span class="comment">#替换所有匹配串</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment">#类似 $&#123;&#125; 表达式[#|%]</span></span><br><span class="line">  3. newStr=`<span class="built_in">echo</span> <span class="variable">$&#123;pva/#*$pvb/$pv&#125;</span>` <span class="comment">#替换最后一个匹配（左起）</span></span><br><span class="line">  4. newStr=`<span class="built_in">echo</span> <span class="variable">$&#123;pva/%$pvb*/$pv&#125;</span>` <span class="comment">#替换最后一个匹配（右起）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####################</span></span><br><span class="line"><span class="comment">#插入字符串--(拼接字符)</span></span><br><span class="line">  <span class="comment">#指定位置插入</span></span><br><span class="line">    1. 字符串拼接: 1eftS+ [objStr] +rightS</span><br><span class="line">  <span class="comment">#指定字符转前后插入</span></span><br><span class="line">    1. 字符串替换：o1dS --&gt; &#123; <span class="variable">$oldS</span><span class="variable">$newS</span> || <span class="variable">$newS</span><span class="variable">$oldS</span> &#125;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#################</span></span><br><span class="line"><span class="comment"># 拓展 $&#123;&#125; 表达式:</span></span><br><span class="line"><span class="comment"># 实例: v_aa='http://www.bai.com/tip'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># [# 截取: 从左侧开始匹配,找到第一个匹配串,去掉匹配串和左侧串,保留右侧子串]</span></span><br><span class="line"><span class="comment"># [## 截取: 从左侧匹配,找到最后一个匹配串,去掉匹配串及左侧串,保留右侧子串]</span></span><br><span class="line"><span class="comment"># [% 截取: 与#相反,从右侧匹配,找到第一个匹配串,去掉右侧串和匹配串,保留左侧串]</span></span><br><span class="line"><span class="comment"># [%% 截取: 与##相反,从右侧匹配,找到最后一个匹配串,去掉右侧串和匹配串,保留左侧串]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">v_pa=<span class="variable">$&#123;v_aa#*/&#125;</span>  <span class="comment">#'/www.bai.com/tip' --&gt; 左侧第一个匹配串后面的子串</span></span><br><span class="line">v_pa=<span class="variable">$&#123;v_aa##*/&#125;</span> <span class="comment">#'tip' --&gt; 左侧最后一个匹配串后面的子串</span></span><br><span class="line">v_pa=<span class="variable">$&#123;v_aa%/*&#125;</span>  <span class="comment">#'http://www.bai.com' --&gt; 右侧第一个匹配串往左后面的子串</span></span><br><span class="line">v_pa=<span class="variable">$&#123;v_aa%%/*&#125;</span> <span class="comment">#'http:' --&gt; 右侧最后一个匹配串往左后面的子串</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#################</span></span><br><span class="line"><span class="comment"># expr 表达式:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">1. expr length [STRING]</span><br><span class="line">2. expr substr [STRTNG] [POS] [LENGTH] <span class="comment">#[P0S]从1开始</span></span><br><span class="line">3. expr index [STRING] [CHARS]</span><br><span class="line">4. expr match [REGEXP] <span class="comment"># same `expr [STRING] : [REGEXP]`</span></span><br><span class="line">  <span class="comment">#eg.</span></span><br><span class="line">  <span class="built_in">echo</span> `expr match <span class="string">"<span class="variable">$pva</span>"</span> : <span class="string">"worl*"</span>`</span><br><span class="line"><span class="comment">#查找位置(字符串匹配不好,字符匹配)</span></span><br><span class="line">  <span class="built_in">echo</span> `expr index <span class="string">"<span class="variable">$v_pv</span>"</span> od` <span class="comment">#查找任意给定chars位置,返回位置最小的(1开始计数);</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#########</span></span><br><span class="line"><span class="comment"># 测试效率</span></span><br><span class="line">1. time <span class="keyword">for</span> i <span class="keyword">in</span> $(seq 10000);<span class="keyword">do</span> a=<span class="variable">$&#123;#pva&#125;</span>;<span class="keyword">done</span>;</span><br><span class="line">    real 0m0.334s</span><br><span class="line">    user 0m0.224s</span><br><span class="line">    sys  0m0.004s</span><br><span class="line">2. time <span class="keyword">for</span> i <span class="keyword">in</span> $(seq 10000); <span class="keyword">do</span> a=<span class="variable">$&#123;expr length $pva&#125;</span>; <span class="keyword">done</span>;</span><br><span class="line">    real 0m23.530s</span><br><span class="line">    user 0m0.436s</span><br><span class="line">    Sys  0m3.708s</span><br><span class="line">  <span class="comment">#结果:</span></span><br><span class="line">  <span class="comment">#内置命令教率高于其他命令,尽量优先使用内置命令;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;shell-常用命令整理&quot;&gt;&lt;a href=&quot;#shell-常用命令整理&quot; class=&quot;headerlink&quot; title=&quot;shell 常用命令整理&quot;&gt;&lt;/a&gt;shell 常用命令整理&lt;/h1&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;tab
      
    
    </summary>
    
      <category term="linux" scheme="http://yoursite.com/categories/linux/"/>
    
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>CentOS|Ubuntu Linux系统日常维护</title>
    <link href="http://yoursite.com/2018/01/01/CentOS%20%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E7%BB%B4%E6%8A%A4/"/>
    <id>http://yoursite.com/2018/01/01/CentOS 系统环境维护/</id>
    <published>2017-12-31T16:00:00.000Z</published>
    <updated>2018-04-15T13:15:33.601Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CentOS-系统日常维护"><a href="#CentOS-系统日常维护" class="headerlink" title="CentOS 系统日常维护"></a>CentOS 系统日常维护</h2><h3 id="服务器环境设置"><a href="#服务器环境设置" class="headerlink" title="服务器环境设置"></a>服务器环境设置</h3><ul><li>安装 <code>openssh-server</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   // 安装 openssh-server</span><br><span class="line">apt-get install openssh-server</span><br><span class="line">// 查看是否安装成功</span><br><span class="line">ps -e |  grep ssh</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>如果只有<code>ssh-agent</code>那<code>ssh-server</code>还没有启动,<br>如果看到<code>sshd</code>那说明<code>ssh-server</code>已经启动了;<br>ssh-server配置文件位于<code>/etc/ssh/sshd_config</code>,<br>在这里可以定义SSH的服务端口，<code>默认端口是22</code>,<br>你可以自己定义成其他端口号,如222; 然后重启SSH服务：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 重启服务</span><br><span class="line">　　sudo /etc/init.d/ssh restart</span><br></pre></td></tr></table></figure></p></blockquote><ul><li>设置软链接s / 硬链接\<br>  <code>ln -s 源路径绝对地址 目标路径绝对地址</code><blockquote><p>示例 软链接：<br>  <code>ln -s /home/zhenwx/htccode-v1/    /home/zhenwx/htccode</code></p></blockquote></li></ul><hr><h3 id="一：JAVA-维护"><a href="#一：JAVA-维护" class="headerlink" title="一：JAVA 维护"></a>一：JAVA 维护</h3><h4 id="安装-卸载："><a href="#安装-卸载：" class="headerlink" title="安装 / 卸载："></a>安装 / 卸载：</h4><ul><li><code>yum 命令安装</code><blockquote><p><code>yum list | grep jdk</code>\<br><code>yum install java-1.8.0-openjdk</code></p></blockquote></li></ul><p><code>默认安装路径:</code>\<br><code>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-1.b12.el7_4.x86_64/jre/bin/java</code></p><ul><li><code>rpm 安装</code><blockquote><p><code>curl -O http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.rpm</code></p></blockquote></li></ul><blockquote><p><code>rpm -ivh jdk-7u79-linux-x64.rpm</code></p></blockquote><ul><li><code>Ubuntu 系统可以使用 apt-get 操作</code><blockquote><p><code>apt-get install openjdk-7-jdk</code></p></blockquote></li></ul><h4 id="环境配置："><a href="#环境配置：" class="headerlink" title="环境配置："></a>环境配置：</h4><ul><li><p>编辑文件(所有用户有效)：<code>/etc/profile</code>, 添加以下代码;</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/share/jdk1.6.0_20</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br></pre></td></tr></table></figure></li><li><p>当前用户有效</p></li><li><p>本次登录有效</p></li><li><p>使配置生效</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 使配置生效</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="二：MySql-维护"><a href="#二：MySql-维护" class="headerlink" title="二：MySql 维护"></a>二：MySql 维护</h3><blockquote><p>Cent OS 系统, 安装后环境：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. `/etc/my.cnf` 这是mysql的主配置文件;</span><br><span class="line">2. `/var/lib/mysql` mysql数据库的数据库文件存放位置;</span><br><span class="line">3. `/var/log mysql` 数据库的日志输出存放位置</span><br></pre></td></tr></table></figure></p></blockquote><ul><li><p><code>安装 / 卸载</code><br>CentOS 系统 <code>yum</code> 命令安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   rpm -qa | grep mysql// 查看是否安装`</span><br><span class="line">   </span><br><span class="line">   rpm -e mysql　　// 普通删除模式;</span><br><span class="line">   rpm -e --nodeps mysql</span><br><span class="line">   // 强力删除模式,如果使用上面命令删除时,提示有依赖的其它文件,则用该命令可以对其进行强力删除;</span><br><span class="line">   </span><br><span class="line">   yum list | grep mysql//查看安装源可下载版本</span><br><span class="line">   </span><br><span class="line">   yum install -y mysql-server mysql mysql-devel</span><br><span class="line">   // 将mysql mysql-server mysql-devel都安装好</span><br><span class="line">   </span><br><span class="line">   //检查 mysqld 进程是否已经开启，可以使用下面的命令： </span><br><span class="line">pgrep mysqld</span><br></pre></td></tr></table></figure></li><li><p><code>启动 / 停止</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start/stop/staus</span><br></pre></td></tr></table></figure></li><li><p>登录数据库/<br><code>mysql -u root -p</code></p></li></ul><ul><li><code>忘记密码 (root)</code></li></ul><p>Cent OS 系统：</p><pre><code>1. `/etc/my.cnf`         这是mysql的主配置文件;2. `/var/lib/mysql` mysql数据库的数据库文件存放位置;3. `/var/log mysql` 数据库的日志输出存放位置</code></pre><ul><li><code>无密码登录</code></li></ul><p>修改 <code>my.ini</code> 或者 <code>my.cnf</code> 文件, 在<code>[mysqld]</code>字段下面加入 <code>skip-grant-tables</code> ;</p><blockquote><p><code>修改数据库用户密码</code><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--选择数据库</span></span><br><span class="line"><span class="keyword">use</span> mysql;</span><br><span class="line"><span class="comment">--查看数据表</span></span><br><span class="line"><span class="comment">--select User,Password from User;</span></span><br><span class="line"><span class="comment">--修改密码</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">Password</span>=<span class="keyword">password</span>(<span class="string">'新密码'</span>) <span class="keyword">where</span> <span class="keyword">User</span>=<span class="string">'root'</span>;</span><br><span class="line"><span class="comment">--立即生效</span></span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span></span><br></pre></td></tr></table></figure></p><p>设置远程访问:<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 5.6版本及以下的： </span></span><br><span class="line">修改配置 /etc/mysql/my.cnf</span><br><span class="line"><span class="built_in">bind</span>-address = xxx.xxx.xxx.xxx(你本地的IP地址，不是127.0.0.1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.7版本及以上 </span></span><br><span class="line">修改配置 /etc/mysql/mysql.conf.d/mysqld.cnf</span><br><span class="line"><span class="built_in">bind</span>-address = xxx.xxx.xxx.xxx(你本地的IP地址，不是127.0.0.1)</span><br><span class="line">不想指定IP地址可以再添加：(<span class="built_in">bind</span>-address = 0.0.0.0);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    1. 取消本地监听：</span><br><span class="line">    需要修改 `/etc/mysql/my.cnf` 或者 `my.ini` </span><br><span class="line">    或者 `/etc/mysql/mysql.conf.d/mysqld.cnf` 文件;</span><br><span class="line">    `sudo vim /etc/mysql/my.cnf`</span><br><span class="line">    找到如下内容，并注释：</span><br><span class="line">    `<span class="built_in">bind</span>-address = 127.0.0.1`</span><br><span class="line">    // 重启数据库</span><br><span class="line">    service mysql restart</span><br><span class="line">    </span><br><span class="line">    2. 授权用户权限 (例如：`用户|密码：root|root`)</span><br><span class="line">    &gt; use mysql;</span><br><span class="line">    &gt;</span><br><span class="line">    &gt; <span class="comment"># 新建用户授权</span></span><br><span class="line">    &gt; create user user@<span class="string">'%'</span> identified by <span class="string">'123123'</span>;</span><br><span class="line">    &gt; grant all on . to user@’%’; <span class="comment"># `*.*` 表示所有库所有表;</span></span><br><span class="line">    &gt; flush privileges;</span><br><span class="line">    &gt;</span><br><span class="line">    &gt; <span class="comment"># 授权root用户</span></span><br><span class="line">    &gt; GRANT ALL PRIVILEGES ON *.* TO <span class="string">'root'</span>@<span class="string">"%"</span> IDENTIFIED BY <span class="string">'123123'</span> WITH GRANT OPTION;//赋予任何主机访问数据的权限</span><br><span class="line">    &gt; FLUSH PRIVILEGES;//修改生效</span><br></pre></td></tr></table></figure></p></blockquote><hr><h3 id="三：tomcat-配置"><a href="#三：tomcat-配置" class="headerlink" title="三：tomcat 配置"></a>三：tomcat 配置</h3><ul><li>安装服务器 Tomcat<blockquote><p><code>sudo tar -zxvf apache-tomcat-8.5.9.tar.gz</code></p></blockquote></li></ul><blockquote><p>安装路径：(自定义)\<br><code>/usr/tomcat8.x/tomcat...</code></p></blockquote><ul><li><p>编辑文件: <code>startup.sh</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set java environment</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_111</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:%&#123;JAVA_HOME&#125;/lib:%&#123;JRE_HOME&#125;/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tomcat</span></span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/usr/tomcat/apache-tomcat-8.5.9</span><br></pre></td></tr></table></figure></li><li><p>编辑文件: <code>shutdown.sh</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set java environment</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_111</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:%&#123;JAVA_HOME&#125;/lib:%&#123;JRE_HOME&#125;/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tomcat</span></span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/usr/tomcat/apache-tomcat-8.5.9</span><br></pre></td></tr></table></figure></li><li><p>tomcat开机自启动</p></li></ul><blockquote><p>编辑文件 <code>/etc/rc.local</code><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set java environment</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_111</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:%&#123;JAVA_HOME&#125;/lib:%&#123;JRE_HOME&#125;/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line">/usr/tomcat/apache-tomcat-8.5.9/bin/startup.sh</span><br></pre></td></tr></table></figure></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;CentOS-系统日常维护&quot;&gt;&lt;a href=&quot;#CentOS-系统日常维护&quot; class=&quot;headerlink&quot; title=&quot;CentOS 系统日常维护&quot;&gt;&lt;/a&gt;CentOS 系统日常维护&lt;/h2&gt;&lt;h3 id=&quot;服务器环境设置&quot;&gt;&lt;a href=&quot;#服务
      
    
    </summary>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>SVN 代码仓库搭建</title>
    <link href="http://yoursite.com/2018/01/01/linux-SVN%20%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E6%90%AD%E5%BB%BA/"/>
    <id>http://yoursite.com/2018/01/01/linux-SVN 代码仓库搭建/</id>
    <published>2017-12-31T16:00:00.000Z</published>
    <updated>2018-04-15T13:16:07.714Z</updated>
    
    <content type="html"><![CDATA[<h3 id="SVN-代码仓库的环境搭建"><a href="#SVN-代码仓库的环境搭建" class="headerlink" title="SVN 代码仓库的环境搭建"></a>SVN 代码仓库的环境搭建</h3><h4 id="svn-代码服务器"><a href="#svn-代码服务器" class="headerlink" title="svn 代码服务器"></a>svn 代码服务器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1. 安装 subversion</span><br><span class="line">    &gt; yum install subversion</span><br><span class="line"></span><br><span class="line">1. 查看安装位置</span><br><span class="line">    &gt; rpm -ql subversion</span><br><span class="line">2. 查看svn的版本</span><br><span class="line">    &gt; /usr/bin/svnversion --version</span><br><span class="line">3. 创建svn版本库目录</span><br><span class="line">    &gt; mkdir -p /var/svn/repos</span><br><span class="line">4. 创建版本库(会生成conf等目录)</span><br><span class="line">    &gt; svnadmin create /var/svn/repos</span><br><span class="line">5. 进入conf目录（该svn版本库配置文件）</span><br><span class="line">    - authz文件是权限控制文件</span><br><span class="line">    - passwd是帐号密码文件</span><br><span class="line">    - svnserve.conf SVN服务配置文件</span><br><span class="line">6. 配置 authz / passwd / svnserve.conf 文件</span><br><span class="line">    - passwd 文件：</span><br><span class="line">        格式：帐号=密码，如dan=dan</span><br><span class="line">    - authz 文件：</span><br><span class="line">        末尾添加如下代码：</span><br><span class="line">        [/]</span><br><span class="line">        dan=rw</span><br><span class="line">        w=r</span><br><span class="line">    - svnserve.conf 文件：</span><br><span class="line">        打开下面的几个注释：</span><br><span class="line">        anon-access = read #匿名用户可读</span><br><span class="line">        auth-access = write #授权用户可写</span><br><span class="line">        password-db = passwd #使用哪个文件作为账号文件</span><br><span class="line">        authz-db = authz #使用哪个文件作为权限文件</span><br><span class="line">        realm = /var/svn/repos # 认证空间名，版本库所在目录</span><br><span class="line">7. 启动svn版本库</span><br><span class="line">    &gt; 切记不要将地址写成 `/var/svn/repos`, 会check out出错</span><br><span class="line">    &gt; svnserve -d -r /var/svn/</span><br></pre></td></tr></table></figure><h4 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题:"></a>遇到的问题:</h4><ol><li>checkout时，提示：URL svn://192.168.1.11/svntest doesn’t exist…<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果你的svn库的路径为：/home/svn/svntest</span><br><span class="line">不能用命令：svnserve -d -r /home/svn/svntest</span><br><span class="line">要用命令：`svnserve -d -r /home/svn/`</span><br></pre></td></tr></table></figure></li></ol><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;SVN-代码仓库的环境搭建&quot;&gt;&lt;a href=&quot;#SVN-代码仓库的环境搭建&quot; class=&quot;headerlink&quot; title=&quot;SVN 代码仓库的环境搭建&quot;&gt;&lt;/a&gt;SVN 代码仓库的环境搭建&lt;/h3&gt;&lt;h4 id=&quot;svn-代码服务器&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>vim常用快捷键</title>
    <link href="http://yoursite.com/2018/01/01/20171212/%E5%85%B3%E4%BA%8Evim/"/>
    <id>http://yoursite.com/2018/01/01/20171212/关于vim/</id>
    <published>2017-12-31T16:00:00.000Z</published>
    <updated>2018-04-15T12:27:21.352Z</updated>
    
    <content type="html"><![CDATA[<h3 id="移动图标示意图"><a href="#移动图标示意图" class="headerlink" title="移动图标示意图"></a>移动图标示意图</h3><pre><code>gg:    文件头G:    文件尾nG: 跳转之n行0:    行首$:    行尾</code></pre><p><a href="http://note.youdao.com/noteshare?id=441e6d7caf874cb9cdf0901f9c38e75e" target="_blank" rel="noopener">Vim 常用图示Link</a></p><pre><code>    1G/gg/Home        k^/0  h 光标 l  $        j    G/End</code></pre><h5 id="复制-剪切-粘贴-查询"><a href="#复制-剪切-粘贴-查询" class="headerlink" title="复制/剪切/粘贴 / 查询"></a>复制/剪切/粘贴 / 查询</h5><pre><code>*复制/粘贴*:yy / p 复制一行 n+yy 多行dd / p 剪切一行 n+dd 多行*查找::/word ( :?word ) 继续按 n/N*定位*::行号撤销操作：u还原撤销：ctrl + rv：进入 visual 模式    d : 剪切操作    y : 选择复制    p : 粘贴操作ctrl + v：进入 visual block 模式    ...</code></pre><h5 id="设置行号"><a href="#设置行号" class="headerlink" title="设置行号"></a>设置行号</h5><pre><code>:set number</code></pre><h5 id="文件配置自动显示行号"><a href="#文件配置自动显示行号" class="headerlink" title="文件配置自动显示行号"></a>文件配置自动显示行号</h5><pre><code>echo &quot;se nu&quot; &gt;&gt; ~/.vimrc</code></pre><h5 id="中文乱码"><a href="#中文乱码" class="headerlink" title="中文乱码"></a>中文乱码</h5><pre><code>~/.vimrc --&gt; 添加 --&gt;:set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1</code></pre><h6 id="注"><a href="#注" class="headerlink" title="注:"></a>注:</h6><pre><code>对于类似 $name 命名的文件,删除需:rm &apos;$name&apos;</code></pre><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;移动图标示意图&quot;&gt;&lt;a href=&quot;#移动图标示意图&quot; class=&quot;headerlink&quot; title=&quot;移动图标示意图&quot;&gt;&lt;/a&gt;移动图标示意图&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;gg:    文件头
G:    文件尾
nG: 跳转之n行

0:    行首
$
      
    
    </summary>
    
    
      <category term="vim" scheme="http://yoursite.com/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>RSA秘钥生成</title>
    <link href="http://yoursite.com/2018/01/01/20171212/rsa%E5%AF%86%E9%92%A5/"/>
    <id>http://yoursite.com/2018/01/01/20171212/rsa密钥/</id>
    <published>2017-12-31T16:00:00.000Z</published>
    <updated>2018-04-15T12:27:31.408Z</updated>
    
    <content type="html"><![CDATA[<h2 id="rsa"><a href="#rsa" class="headerlink" title="rsa"></a>rsa</h2><p>测试用户：<br>hua</p><p>用户家目录：<br>/home/hua</p><hr><h5 id="1-生成密钥"><a href="#1-生成密钥" class="headerlink" title="1. 生成密钥"></a>1. 生成密钥</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;hua&quot;</span><br><span class="line">git config --global user.email &quot;..hua@qq.com&quot;</span><br><span class="line"></span><br><span class="line">// 生成秘钥</span><br><span class="line">ssh-keygen -t rsa -C &quot;..hua@qq.com&quot;</span><br></pre></td></tr></table></figure><blockquote><p>生成id-rsa 和 id-rsa.pub文件<br>cd ~/.ssh</p></blockquote><h5 id="2-添加公钥到-authorized-keys-文件"><a href="#2-添加公钥到-authorized-keys-文件" class="headerlink" title="2. 添加公钥到 authorized_keys 文件"></a>2. 添加公钥到 authorized_keys 文件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mkdir /home/hua/.ssh</span><br><span class="line">touch /home/hua/.ssh/authorized_keys</span><br><span class="line">cat /root/.ssh/id_rsa.pub &gt; /home/hua/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><h5 id="3-目录和文件的权限"><a href="#3-目录和文件的权限" class="headerlink" title="3. 目录和文件的权限"></a>3. 目录和文件的权限</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/home/hua/.ssh 的 owner 应该为 hua:group</span><br><span class="line">chmod 700 /home/hua/.ssh</span><br><span class="line">chmod 600 /home/hua/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><h5 id="登录测试"><a href="#登录测试" class="headerlink" title="登录测试"></a>登录测试</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ssh -i /home/hua/.ssh/id_rsa hua@127.0.0.1</span><br></pre></td></tr></table></figure><hr><h2 id="github-添加id-rsa内容"><a href="#github-添加id-rsa内容" class="headerlink" title="github 添加id-rsa内容"></a>github 添加id-rsa内容</h2><p>SSH and GPG keys 选项</p><p>…. 省略 …</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;rsa&quot;&gt;&lt;a href=&quot;#rsa&quot; class=&quot;headerlink&quot; title=&quot;rsa&quot;&gt;&lt;/a&gt;rsa&lt;/h2&gt;&lt;p&gt;测试用户：&lt;br&gt;hua&lt;/p&gt;
&lt;p&gt;用户家目录：&lt;br&gt;/home/hua&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id=&quot;1-生成密钥&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="rsa" scheme="http://yoursite.com/tags/rsa/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 制作博客</title>
    <link href="http://yoursite.com/2017/12/12/Hexo%20%E5%88%B6%E4%BD%9C%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2017/12/12/Hexo 制作博客/</id>
    <published>2017-12-11T16:00:00.000Z</published>
    <updated>2018-04-15T13:15:47.204Z</updated>
    
    <content type="html"><![CDATA[<h3 id="利用Hexo-制作博客"><a href="#利用Hexo-制作博客" class="headerlink" title="利用Hexo 制作博客"></a>利用Hexo 制作博客</h3><hr><p>####简明教程</p><blockquote><p>比较流行的一些静态博客框架有<code>Jekyll</code>、<code>Hexo</code>、<code>FarBox</code>、<code>Simple</code>、<code>Octopress</code>、<code>Pelican</code>等等；</p></blockquote><p>我准备的是 <code>Hexo</code> 教程：</p><ul><li>环境准备</li></ul><ol><li><code>Git</code></li><li><code>Node.js</code></li><li><code>Hexo</code> </li></ol><p>Hexo官方中文文档 <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo</a><br>NexT主题开发文档 <a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">NextT</a></p><hr><ul><li>安装 Hexo</li></ul><p><code>&gt; npm install -g hexo-cli</code></p><ul><li>初始化博客空间</li></ul><p><code>&gt; hexo init</code></p><ul><li>安装博客项目node环境依赖</li></ul><p><code>&gt; npm install</code></p><p>目录结构：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">|-- _config.yml</span><br><span class="line">|-- package.json</span><br><span class="line">|-- node_modules</span><br><span class="line">|-- scaffolds</span><br><span class="line">|-- source</span><br><span class="line">|   |-- _posts</span><br><span class="line">|-- themes</span><br></pre></td></tr></table></figure><ul><li>生成静态文件</li></ul><p><code>&gt; hexo -g</code> 或 <code>hexo generate</code></p><ul><li>启动本地服务预览效果</li></ul><p><code>&gt; hexo -s</code> 或 <code>&gt; hexo server</code></p><ul><li><p>新建文件<br><code>&gt; hexo new</code></p></li><li><p>上传部署博客</p></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清理缓存</span></span><br><span class="line">&gt; hexo clean</span><br><span class="line"><span class="comment"># 生成文件</span></span><br><span class="line">&gt; hexo g</span><br><span class="line"><span class="comment"># 部署发布到github（看配置文件配置）</span></span><br><span class="line">&gt; hexo -d 或 hexo deploy</span><br></pre></td></tr></table></figure><ul><li>配置文件 <code>_config.yml</code> 参数说明</li></ul><p>参考官网说明：<a href="https://hexo.io/docs/configuration.html" target="_blank" rel="noopener">官网说明</a><br>其他博客配置说明：<a href="http://blog.csdn.net/xuezhisdc/article/details/53130383" target="_blank" rel="noopener">说明</a><br>其他博客：<a href="https://www.jianshu.com/p/dd9ef08b12df" target="_blank" rel="noopener">配置说明</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;利用Hexo-制作博客&quot;&gt;&lt;a href=&quot;#利用Hexo-制作博客&quot; class=&quot;headerlink&quot; title=&quot;利用Hexo 制作博客&quot;&gt;&lt;/a&gt;利用Hexo 制作博客&lt;/h3&gt;&lt;hr&gt;
&lt;p&gt;####简明教程&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;
      
    
    </summary>
    
      <category term="Hexo" scheme="http://yoursite.com/categories/Hexo/"/>
    
    
      <category term="hexo blog" scheme="http://yoursite.com/tags/hexo-blog/"/>
    
  </entry>
  
  <entry>
    <title>网址（博客）收集</title>
    <link href="http://yoursite.com/2017/02/06/%E6%94%B6%E9%9B%86-%E7%BD%91%E5%9D%80%EF%BC%88%E5%8D%9A%E5%AE%A2%EF%BC%89%E6%94%B6%E9%9B%86/"/>
    <id>http://yoursite.com/2017/02/06/收集-网址（博客）收集/</id>
    <published>2017-02-05T16:00:00.000Z</published>
    <updated>2018-04-15T12:09:15.662Z</updated>
    
    <content type="html"><![CDATA[<h2 id="网址（博客）收集"><a href="#网址（博客）收集" class="headerlink" title="网址（博客）收集"></a>网址（博客）收集</h2><ul><li><p>插件 | 工具</p><p><a href="https://juejin.im/extension/" target="_blank" rel="noopener"> 掘金插件 </a></p></li><li><p>GIT</p></li></ul><p><a href="https://gitee.com/explore/recommend" target="_blank" rel="noopener"> 码云 </a></p><p><a href="https://github.com/explore" target="_blank" rel="noopener"> GitHub </a></p><ul><li>博客</li></ul><p><a href="http://www.hollischuang.com/" target="_blank" rel="noopener"> hollischuang-blog </a></p><p><a href="http://websystique.com/" target="_blank" rel="noopener"> Spring… </a></p><ul><li><p>WEB 资源<br><a href="https://github.com/yanhaijing/template.js" target="_blank" rel="noopener"> template.js模板工具 </a></p><p><code>art-template</code> :<br><a href="http://aui.github.io/art-template/zh-cn/index.html" target="_blank" rel="noopener"> art-template </a><br><code>ejs</code>:<br><a href="https://github.com/mde/ejs" target="_blank" rel="noopener"> EJS </a></p><hr><p><code>sockedt.io</code><br><a href="https://github.com/socketio/socket.io/" target="_blank" rel="noopener"> socket.io </a></p><p><a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener"> Express </a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;网址（博客）收集&quot;&gt;&lt;a href=&quot;#网址（博客）收集&quot; class=&quot;headerlink&quot; title=&quot;网址（博客）收集&quot;&gt;&lt;/a&gt;网址（博客）收集&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;插件 | 工具&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://jueji
      
    
    </summary>
    
      <category term="other" scheme="http://yoursite.com/categories/other/"/>
    
    
      <category term="blog collect" scheme="http://yoursite.com/tags/blog-collect/"/>
    
  </entry>
  
</feed>
